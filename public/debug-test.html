<!DOCTYPE html>
<html>
<head>
    <title>Debug Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: Arial; padding: 20px; line-height: 1.5; }
        button { padding: 15px; font-size: 16px; margin: 10px 0; }
        .result { background: #f5f5f5; padding: 15px; margin: 10px 0; border-radius: 5px; white-space: pre-wrap; }
    </style>
</head>
<body>
    <h1>Debug Test</h1>
    
    <button onclick="testBasicFetch()">Test 1: Basic Internet</button>
    <button onclick="testCloudinaryAccess()">Test 2: Cloudinary Access</button>
    <button onclick="testCORS()">Test 3: CORS Test</button>
    
    <div id="results"></div>

    <script>
        function log(message) {
            document.getElementById('results').innerHTML += message + '\n\n';
        }

        async function testBasicFetch() {
            log('=== Test 1: Basic Internet ===');
            try {
                const response = await fetch('https://httpbin.org/get');
                if (response.ok) {
                    log('✅ Internet connection works');
                } else {
                    log('❌ Internet issue: ' + response.status);
                }
            } catch (error) {
                log('❌ Internet error: ' + error.message);
            }
        }

        async function testCloudinaryAccess() {
            log('=== Test 2: Cloudinary Access ===');
            try {
                const response = await fetch('https://api.cloudinary.com/v1_1/dcpy2x17s/image/list', {
                    method: 'GET'
                });
                log('Cloudinary response status: ' + response.status);
                const data = await response.text();
                log('Cloudinary response: ' + data.substring(0, 200));
            } catch (error) {
                log('❌ Cloudinary access error: ' + error.message);
            }
        }

        async function testCORS() {
            log('=== Test 3: CORS Test ===');
            try {
                const formData = new FormData();
                formData.append('upload_preset', 'ml_default');
                
                const response = await fetch('https://api.cloudinary.com/v1_1/dcpy2x17s/image/upload', {
                    method: 'POST',
                    body: formData
                });
                
                log('CORS test status: ' + response.status);
                const data = await response.json();
                log('CORS test response: ' + JSON.stringify(data, null, 2));
            } catch (error) {
                log('❌ CORS error: ' + error.message);
            }
        }
    </script>
</body>
</html>